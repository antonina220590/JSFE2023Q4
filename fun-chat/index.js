(()=>{"use strict";var e={281:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(601),s=n.n(a),o=n(314),l=n.n(o)()(s());l.push([e.id,".login-form__wrapper {\n    border: 1px solid black;\n    width: 30vw;\n    padding: 30px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    transform: translate(80%, 50%);\n    border-radius: 20px;\n}\n\n.login-form__title {\n    color: #0c0c0e;\n    text-align: center;\n    font-family: Forum;\n    font-size: 27px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 20px;\n    letter-spacing: 0.4px;\n}\n\n.login__form {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    /* gap: 20px; */\n}\n\n.error_box {\n    margin-top: 10px;\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n    height: 9vh;\n    width: 30vh;\n}\n\n.login__form_input {\n    margin-bottom: 10px;\n    width: 210px;\n    border: none;\n    outline: 1px solid #bb945f;\n}\n\ninput {\n    font-family: sans-serif;\n    font-size: 100%;\n    line-height: 1.7;\n    margin: 0;\n}\n\n.button_login {\n    background-color: #fff;\n    border-radius: 2px;\n    border: 1px solid #0c0c0e;\n    cursor: pointer;\n    margin-top: 10px;\n    padding-top: 8px;\n    padding-bottom: 8px;\n    padding-top: 0.7rem;\n    padding-bottom: 0.7rem;\n    width: 7.5rem;\n    cursor: pointer;\n}\n\n/* .button {\n    color: #0c0c0e;\n    text-align: center;\n    font-family: Inter;\n    font-size: 15px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n    letter-spacing: 1px;\n    margin-top: 1rem;\n} */\n\n.button_inactive {\n    cursor: default;\n}\n\n.button:hover {\n    background-color: #bb945f;\n    border-radius: 2px;\n    border: 1px solid #bb945f;\n    transition: all 0.2s ease-in-out;\n}\n\n.error_label {\n    text-align: center;\n    color: red;\n    font-size: 12px;\n}\n\n.error {\n    border: 1px solid red;\n}\n",""]);const r=l},510:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(601),s=n.n(a),o=n(314),l=n.n(o)()(s());l.push([e.id,".footer {\n    min-height: 8vh;\n    display: flex;\n    padding: 0 5vh;\n    justify-content: space-between;\n    align-items: center;\n    border: 2px solid black;\n    border-radius: 10px;\n    margin-top: 2vh;\n}\n\n.github_link {\n    text-decoration: none;\n    color: black;\n}\n",""]);const r=l},994:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(601),s=n.n(a),o=n(314),l=n.n(o)()(s());l.push([e.id,".header {\n    min-height: 8vh;\n    display: flex;\n    padding: 0 5vh;\n    justify-content: space-between;\n    align-items: center;\n    border: 2px solid black;\n    border-radius: 10px;\n    margin-bottom: 2vh;\n}\n\n.user_name_container {\n    width: 40%;\n}\n\n.header_text {\n    font-weight: 300;\n    font-size: 20px;\n}\n\n.btns_box {\n    display: flex;\n    gap: 10px;\n}\n\n.button {\n    color: #0c0c0e;\n    text-align: center;\n    font-family: Inter;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n    letter-spacing: 1px;\n    background-color: #fff;\n    border-radius: 2px;\n    border: 1px solid #0c0c0e;\n    cursor: pointer;\n    padding-bottom: 8px;\n    padding-top: 0.2rem;\n    padding-bottom: 0.2rem;\n    width: 4rem;\n    cursor: pointer;\n}\n\n.button:hover {\n    background-color: #bb945f;\n    border-radius: 2px;\n    border: 1px solid #bb945f;\n    transition: all 0.2s ease-in-out;\n}\n",""]);const r=l},298:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(601),s=n.n(a),o=n(314),l=n.n(o)()(s());l.push([e.id,".main {\n    min-height: 75vh;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.left-side__wrapper {\n    height: 60vh;\n    border: 2px solid black;\n    border-radius: 10px;\n    padding: 20px;\n    width: 30vw;\n    display: flex;\n    flex-direction: column;\n}\n\n.right-side__wrapper {\n    height: 60vh;\n    border: 2px solid black;\n    border-radius: 10px;\n    padding: 20px;\n    width: 60vw;\n    margin-left: 20px;\n}\n\n.users_list {\n    margin-top: 1rem;\n    list-style-type: none;\n}\n\n.user_container {\n    align-items: center;\n    border-radius: 2px;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    padding: 1% 5%;\n    width: 100%;\n}\n\n.status_container {\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 2px solid black;\n    height: 3vh;\n}\n\n.user_status {\n    border: 1px solid;\n    border-radius: 50%;\n    box-sizing: border-box;\n    height: 6px;\n    margin: 0 5% 0 0;\n    width: 6px;\n    background: red;\n}\n\n.user_status_active {\n    background: greenyellow;\n}\n\n.messages_container {\n    height: 52vh;\n}\n\n.message {\n    margin-top: 10px;\n    align-items: center;\n    background: #f5f5f5;\n    border-radius: 5px;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    padding: 1%;\n    width: 60%;\n}\n\n.message_header {\n    align-items: center;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    font-size: 0.7rem;\n    justify-content: space-between;\n    width: 80%;\n}\n\n.message_text {\n    background: #fdfdfd;\n    border-radius: 5px;\n    box-sizing: border-box;\n    margin: 2% 0 0;\n    padding: 3%;\n    text-align: justify;\n    width: 100%;\n}\n\n.message_footer {\n    align-items: center;\n    display: flex;\n    flex-direction: row;\n    font-size: 0.7rem;\n    justify-content: flex-end;\n    width: 90%;\n}\n\n.dialog_input_container {\n    align-items: center;\n    border-top: 2px solid;\n    display: flex;\n    height: 10vh;\n    justify-content: space-between;\n    margin: 1% 0 0;\n    max-height: 35px;\n    padding: 0.5% 0.5% 0;\n    width: 100%;\n}\n\n.dialog_input {\n    height: 28px;\n    outline: none;\n    padding: 0 5%;\n    width: 70%;\n}\n",""]);const r=l},955:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(601),s=n.n(a),o=n(314),l=n.n(o)()(s());l.push([e.id,".main-page__container {\n    margin: 10px 40px;\n}\n",""]);const r=l},456:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(601),s=n.n(a),o=n(314),l=n.n(o)()(s());l.push([e.id,".modal__logout_overlay {\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    background-color: rgba(41, 41, 41, 0.6);\n    position: fixed;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n    width: 100wv;\n    opacity: 0;\n    visibility: hidden;\n    z-index: 1;\n}\n\n.modal__logout_overlay_active {\n    opacity: 1;\n    visibility: visible;\n}\n\n.modal__logout__form {\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    height: auto;\n    max-width: 250px;\n    height: 100px;\n    width: 100%;\n    background-color: white;\n    margin: 0 auto;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    opacity: 0;\n    visibility: hidden;\n    border-radius: 20px;\n    align-items: center;\n    justify-content: center;\n}\n\n.modal__logout__form_active {\n    opacity: 1;\n    visibility: visible;\n}\n\n.modal-window__inside {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n    align-items: center;\n}\n\n.modal-window__btns-box {\n    display: flex;\n    gap: 40px;\n}\n\n.modal-window__title {\n    color: black;\n    text-align: center;\n    font-family: Pacifico;\n    font-size: 20px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 20px; /* 100% */\n    letter-spacing: 0.4px;\n}\n\n.button_log-in {\n    color: #0c0c0e;\n    text-align: center;\n    font-family: Inter;\n    font-size: 15px;\n    font-style: normal;\n    font-weight: 700;\n    line-height: normal;\n    letter-spacing: 1px;\n}\n\n.button_log-in:hover {\n    background-color: #bb945f;\n    border-radius: 2px;\n    border: 1px solid #bb945f;\n    transition: all 0.2s ease-in-out;\n}\n\n.modal-window__btns-box {\n    display: flex;\n    gap: 40px;\n}\n\n.modal_btn {\n    background-color: cornflowerblue;\n    cursor: pointer;\n    padding: 5px 10px;\n}\n",""]);const r=l},208:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(601),s=n.n(a),o=n(314),l=n.n(o),r=n(417),i=n.n(r),d=new URL(n(406),n.b),c=l()(s()),m=i()(d);c.push([e.id,`* {\n    margin: 0;\n    padding: 0;\n}\n\nbody {\n    background: url(${m});\n    width: 100vw;\n    /* height: 100vh; */\n    background-size: cover;\n    background-position: center center;\n    /* display: flex; */\n    justify-content: center;\n    align-items: center;\n}\n`,""]);const u=c},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(a)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(l[i]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);a&&l[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),s&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=s):c[4]="".concat(s)),t.push(c))}},t}},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var o={},l=[],r=0;r<e.length;r++){var i=e[r],d=a.base?i[0]+a.base:i[0],c=o[d]||0,m="".concat(d," ").concat(c);o[d]=c+1;var u=n(m),g={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==u)t[u].references++,t[u].updater(g);else{var p=s(g,a);a.byIndex=r,t.splice(r,0,{identifier:m,updater:p,references:1})}l.push(m)}return l}function s(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,s){var o=a(e=e||[],s=s||{});return function(e){e=e||[];for(var l=0;l<o.length;l++){var r=n(o[l]);t[r].references--}for(var i=a(e,s),d=0;d<o.length;d++){var c=n(o[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=i}}},659:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var s=void 0!==n.layer;s&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,s&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},406:(e,t,n)=>{e.exports=n.p+"images/backimg.jpg"}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={id:a,exports:{}};return e[a](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var s=a.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=a[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var e=n(72),t=n.n(e),a=n(825),s=n.n(a),o=n(659),l=n.n(o),r=n(56),i=n.n(r),d=n(540),c=n.n(d),m=n(113),u=n.n(m),g=n(208),p={};p.styleTagTransform=u(),p.setAttributes=i(),p.insert=l().bind(null,"head"),p.domAPI=s(),p.insertStyleElement=c(),t()(g.A,p),g.A&&g.A.locals&&g.A.locals;var b=n(281),f={};f.styleTagTransform=u(),f.setAttributes=i(),f.insert=l().bind(null,"head"),f.domAPI=s(),f.insertStyleElement=c(),t()(b.A,f),b.A&&b.A.locals&&b.A.locals;class h{constructor(e){var t;const n=document.createElement(null!==(t=e.HTMLtag)&&void 0!==t?t:"div");this.element=n,e.classNames&&(this.addClasses(e.classNames),this.toggleClasses(e.classNames),this.removeClasses(e.classNames)),this.createNewElement(e)}createNewElement(e){var t;this.element=document.createElement(null!==(t=e.HTMLtag)&&void 0!==t?t:"div"),this.addTextContent(e.text),void 0!==e.callback&&null!==typeof e.callback&&this.addCallback(e.callback)}addClasses(e){e.forEach((e=>{this.element.classList.add(e)}))}toggleClasses(e){e.forEach((e=>{this.element.classList.toggle(e)}))}removeClasses(e){e.forEach((e=>{this.element.classList.toggle(e)}))}addTextContent(e){this.element.textContent=e}appendElement(e){e instanceof h?this.element.append(e.getElement()):this.element.append(e)}setAttribute(e,t){this.element.setAttribute(e,t)}addCallback(e){"function"==typeof e&&this.element.addEventListener("click",(t=>e(t)))}getElement(){return this.element}}class x{constructor(e){this.elementCreator=this.createView(e)}getHtmlElement(){return this.elementCreator.getElement()}createView(e){const t={HTMLtag:e.HTMLtag,classNames:e.classNames,text:e.text,src:"",callback:void 0};return this.elementCreator=new h(t),this.elementCreator}}const w="login__form__label",_="error_box",v="error_box_name",y="button_login",E="login__form__input_name",C="error_label",T="";var A=n(955),L={};L.styleTagTransform=u(),L.setAttributes=i(),L.insert=l().bind(null,"head"),L.domAPI=s(),L.insertStyleElement=c(),t()(A.A,L),A.A&&A.A.locals&&A.A.locals;var k=n(994),H={};H.styleTagTransform=u(),H.setAttributes=i(),H.insert=l().bind(null,"head"),H.domAPI=s(),H.insertStyleElement=c(),t()(k.A,H),k.A&&k.A.locals&&k.A.locals;const M="header_text",I="button",S="info_button";class B extends x{constructor(){super({HTMLtag:"div",text:"",callback:null}),this.elementCreator.addClasses(["header"]),this.additionalView()}additionalView(){const e={HTMLtag:"div",text:"",callback:null},t=new h(e);t.addClasses(["user_name_container"]);const n={HTMLtag:"span",text:"",callback:null},a={HTMLtag:"button",text:"",callback:null},s=new h(n);s.addClasses(["user",M]),s.addTextContent("User: ");const o=new h(n);o.addClasses(["username",M,"logged_user"]),o.addTextContent("Antonina");const l=new h(n);l.addClasses(["app_name",M]),l.addTextContent("Fun Chat"),s.getElement().append(o.getElement()),t.getElement().append(s.getElement());const r=new h(e);r.addClasses(["btns_box"]);const i=new h(a);i.addClasses([I,S]),i.setAttribute("id","infoBTN"),i.addTextContent("Info"),i.setAttribute("href","#info-page");const d=new h(a);d.addClasses([I,S]),d.setAttribute("id","logoutBtn"),d.addTextContent("Log Out"),d.setAttribute("href","#login-page"),r.getElement().append(i.getElement(),d.getElement()),this.getHtmlElement().append(t.getElement(),l.getElement(),r.getElement())}}var N=n(298),j={};j.styleTagTransform=u(),j.setAttributes=i(),j.insert=l().bind(null,"head"),j.domAPI=s(),j.insertStyleElement=c(),t()(N.A,j),N.A&&N.A.locals&&N.A.locals;const P="user_login_name",z="logged_user",O="";class $ extends x{constructor(){super({HTMLtag:"div",text:O,callback:null}),this.elementCreator.addClasses(["main"]),this.addLeftSide(),this.addRightSide()}addLeftSide(){const e={HTMLtag:"div",text:O,callback:null},t={HTMLtag:"input",text:O,callback:null},n={HTMLtag:"ul",text:O,callback:null},a={HTMLtag:"li",text:O,callback:null},s={HTMLtag:"label",text:O,callback:null},o=new h(e);o.addClasses(["left-side__wrapper"]);const l=new h(t);l.addClasses(["search_input"]),l.setAttribute("id","searchInput"),l.setAttribute("placeholder","Search...");const r=new h(n);r.addClasses(["users_list"]);const i=new h(a);i.addClasses(["user_container"]);const d=new h(e);d.addClasses(["user_status"]);const c=new h(s);c.addClasses([P,z]),c.addTextContent("Halina"),i.getElement().append(d.getElement(),c.getElement()),r.getElement().append(i.getElement()),o.getElement().append(l.getElement(),r.getElement()),this.elementCreator.getElement().append(o.getElement())}addRightSide(){const e={HTMLtag:"div",text:O,callback:null},t={HTMLtag:"label",text:O,callback:null},n=new h(e);n.addClasses(["right-side__wrapper"]);const a=new h(e);a.addClasses(["status_container"]);const s=new h(t);s.addClasses([P,z]),s.addTextContent("halina");const o=new h(t);o.addClasses(["user_status_text"]),o.addTextContent("online"),a.getElement().append(s.getElement(),o.getElement());const l=new h(e);l.addClasses(["messages_container"]);const r=new h(e);r.addClasses(["message__wrapper"]);const i=new h(e);i.addClasses(["message"]);const d=new h(e);d.addClasses(["message_header"]);const c=new h(t);c.addClasses(["user_login_name",z]),c.addTextContent("halina");const m=new h(t);m.addClasses(["message_info"]),m.addTextContent("17/04/2024, 21:05:11");const u=new h(e);u.addClasses(["message_text"]),u.addTextContent("Hello");const g=new h(e);g.addClasses(["message_footer"]);const p=new h(t);p.addClasses(["delivary_status"]),p.addTextContent("delivered"),g.appendElement(p.getElement()),d.getElement().append(c.getElement(),m.getElement(),u.getElement(),g.getElement()),i.getElement().append(d.getElement()),r.getElement().append(i.getElement()),l.getElement().append(r.getElement()),n.getElement().append(a.getElement(),l.getElement()),this.elementCreator.getElement().append(n.getElement())}}var R=n(510),V={};V.styleTagTransform=u(),V.setAttributes=i(),V.insert=l().bind(null,"head"),V.domAPI=s(),V.insertStyleElement=c(),t()(R.A,V),R.A&&R.A.locals&&R.A.locals;const U="footer_github",J="footer_text",F="github_link";class q extends x{constructor(){super({HTMLtag:"div",text:"",callback:null}),this.elementCreator.addClasses(["footer"]),this.additionalView()}additionalView(){const e={HTMLtag:"div",text:"",callback:null},t={HTMLtag:"a",text:"",callback:null},n=new h(e);n.addClasses(["footer_year",J]),n.addTextContent("2024");const a=new h(e);a.addClasses(["footer_rss",J]);const s=new h(t);s.addClasses([F]),s.setAttribute("href","https://rs.school/courses/javascript-mentoring-program"),s.setAttribute("target","_blank"),s.addTextContent("RSS"),a.appendElement(s.getElement());const o=new h(e);o.addClasses([U,U]);const l=new h(t);l.addClasses([F]),l.setAttribute("href","https://github.com/antonina220590"),l.setAttribute("target","_blank"),l.addTextContent("Antonina Tyurina"),o.appendElement(l.getElement()),this.elementCreator.getElement().append(n.getElement(),a.getElement(),o.getElement())}}function D(e){if(null==e)throw Error("Element is not found")}function G(){const e=document.getElementById("logename"),t=document.getElementById("logpassword"),n=new WebSocket("ws://localhost:4000"),a={id:`${crypto.randomUUID()}`,type:"USER_LOGIN",payload:{user:{login:`${e.value}`,password:`${t.value}`}}},s=JSON.stringify(a);n.addEventListener("open",(e=>{n.send(s)}));const o={username:`${e.value}`,password:`${t.value}`,isLogined:!0};n.addEventListener("message",(e=>{const t=JSON.parse(e.data),n=document.getElementById("serverErr");"ERROR"===t.type?(function(){const e=document.getElementById("overlay");null==e||e.classList.add("modal__logout_overlay_active");const t=document.getElementById("form");null==t||t.classList.add("modal__logout__form_active")}(),n&&(n.innerHTML=`${t.payload.error}`)):sessionStorage.setItem("userAt",JSON.stringify(o))}))}let Q="false",W="false";function Z(){const e=document.getElementById("logename"),t=document.getElementById("errorName"),n=e.value;D(t);const a=/[A-Z][\\-a-zA-z]+$/.test(n);return t.innerText="",!1===a&&(t.innerText="",setTimeout((()=>{t.innerText="Invalid symbols / First letter is capital"}),0),e.classList.add("error"),Q="false"),!0===a&&(setTimeout((()=>{t.innerText=""}),0),e.classList.remove("error"),Q="true"),X(Q,W),Q}function K(){const e=document.getElementById("logpassword"),t=document.getElementById("errorPassword"),n=e.value;return D(t),n.length<8?(t.innerText="",setTimeout((()=>{t.innerText="Password must contain at least 8 characters"}),100),e.classList.add("error"),W="false"):(t.innerText="",e.classList.remove("error"),W="true"),X(Q,W),W}function X(e,t){const n=document.getElementById("logBtn");"true"===e&&"true"===t?null==n||n.removeAttribute("disabled"):null==n||n.setAttribute("disabled","")}var Y=n(456),ee={};ee.styleTagTransform=u(),ee.setAttributes=i(),ee.insert=l().bind(null,"head"),ee.domAPI=s(),ee.insertStyleElement=c(),t()(Y.A,ee),Y.A&&Y.A.locals&&Y.A.locals;class te extends x{constructor(){super({HTMLtag:"div",text:"",callback:null}),this.elementCreator.addClasses(["modal-window"]),this.showChildren()}showChildren(){const e={HTMLtag:"div",text:"",callback:null},t=new h(e);t.addClasses(["modal__logout_overlay"]),t.setAttribute("id","overlay");const n=new h(e);n.setAttribute("id","form"),n.addClasses(["modal__logout__form"]),t.appendElement(n.getElement());const a=new h(e);a.addClasses(["modal-window__inside"]),n.appendElement(a.getElement());const s=new h({HTMLtag:"p",text:"",callback:null});s.addClasses(["modal-window__title"]),s.setAttribute("id","serverErr"),a.appendElement(s.getElement());const o=new h(e);o.addClasses(["modal-window__btns-box"]),a.appendElement(o.getElement());const l=new h({HTMLtag:"button",text:"Ok",callback:null});l.setAttribute("id","okBtn"),l.addClasses(["button_log-in","modal_btn"]),o.appendElement(l.getElement()),l.getElement().addEventListener("click",(function(){const e=document.getElementById("overlay");null==e||e.classList.remove("modal__logout_overlay_active");const t=document.getElementById("form");null==t||t.classList.remove("modal__logout__form_active")})),this.elementCreator.appendElement(t.getElement())}}function ne(){let e="";const t=Object.values(sessionStorage);for(let n=0;n<t.length;n+=1){const a=JSON.parse(t[n]);e=a.username}Array.from(document.getElementsByClassName("logged_user")).forEach((t=>{t.innerHTML=`${e}`}))}const ae=new class extends x{constructor(e){super({HTMLtag:"div",text:T,callback:null}),this.elementCreator.addClasses(["login-form__wrapper"]),this.elementCreator.setAttribute("id",e),this.additionalView()}additionalView(){const e={HTMLtag:"p",text:T,callback:null},t=new h({HTMLtag:"p",text:"LOGIN",callback:null});t.addClasses(["login-form__title"]);const n=new h({HTMLtag:"form",text:T,callback:null});n.addClasses(["login__form"]),n.setAttribute("action",""),n.setAttribute("id","login__form");const a={HTMLtag:"label",text:T,callback:null},s={HTMLtag:"div",text:T,callback:null},o=new h(s);o.addClasses([_,v]);const l=new h(s);l.addClasses([_,"error_box_name"]);const r={HTMLtag:"input",text:T,callback:null},i=new h({HTMLtag:"button",text:"Log In",callback:null});i.setAttribute("id","logBtn"),i.addClasses([y]),i.setAttribute("type","button"),i.setAttribute("disabled",""),i.setAttribute("href","#message-page");const d=new h({HTMLtag:"button",text:"Info",callback:null});d.setAttribute("id","logInfoBtn"),d.addClasses([y]);const c=new h(r);c.addClasses([v,E]),c.setAttribute("type","text"),c.setAttribute("name","logename"),c.setAttribute("data-register","name"),c.setAttribute("id","logename"),c.setAttribute("required","");const m=new h(a);m.addClasses([C]),m.setAttribute("id","errorName");const u=new h(r);u.addClasses([v,E]),u.setAttribute("type","password"),u.setAttribute("name","logpassword"),u.setAttribute("id","logpassword"),u.setAttribute("required","");const g=new h(a);g.addClasses([C]),g.setAttribute("id","errorPassword"),o.getElement().append(c.getElement(),m.getElement()),l.getElement().append(u.getElement(),g.getElement());const p=new h(e);p.addTextContent("Name");const b=new h(e);b.addTextContent("Password");const f=new h(a);f.addClasses([w,"login__form__label__password"]),f.getElement().append(b.getElement(),l.getElement());const x=new h(a);x.addClasses([w,"login__form__label__name"]),x.getElement().append(p.getElement(),o.getElement()),n.getElement().append(x.getElement(),f.getElement()),this.getHtmlElement().append(t.getElement(),n.getElement(),i.getElement(),d.getElement())}}("login-page").getHtmlElement(),se=new class extends x{constructor(e){super({HTMLtag:"div",text:"",callback:null}),this.elementCreator.addClasses(["main-page__container"]),this.elementCreator.setAttribute("id",e),this.showChilder()}showChilder(){const e=new B,t=new $,n=new q;this.getHtmlElement().append(e.getHtmlElement(),t.getHtmlElement(),n.getHtmlElement())}}("chat-page").getHtmlElement();class oe{constructor(){this.createView(),oe.goToLoginPage(),oe.goToChatPage(),oe.validation()}createView(){const e=Object.values(sessionStorage);let t={username:"",password:"",isLogined:!1};e.forEach((e=>{t=JSON.parse(e)}));const n=t.username;document.body.append(ae),sessionStorage.length<=0||n.length<=0?(document.body.innerHTML="",document.body.append(ae),oe.goToLoginPage()):sessionStorage.length>0&&(document.body.innerHTML="",document.body.append(se),oe.goToChatPage());const a=new te;document.body.append(a.getHtmlElement())}static validation(){const e=document.getElementById("logename"),t=document.getElementById("logpassword");e&&e.addEventListener("input",Z),t&&t.addEventListener("input",K),document.addEventListener("keydown",(e=>{13===e.keyCode&&G()}))}static goToChatPage(){const e=document.getElementById("logBtn"),t=Object.values(sessionStorage);let n={username:"",password:"",isLogined:!1};t.forEach((e=>{n=JSON.parse(e)})),n.username,null==e||e.addEventListener("click",G),null==e||e.addEventListener("click",(function(){sessionStorage.length>0&&(document.body.innerHTML="",document.body.append(se),oe.goToLoginPage(),ne())}))}static goToLoginPage(){const e=document.getElementById("logoutBtn");document.getElementById("logBtn"),null==e||e.addEventListener("click",(function(){sessionStorage.clear(),document.body.innerHTML="",document.body.append(ae),G(),oe.validation(),function(){const e=document.getElementById("logpassword"),t=document.getElementById("logename");t&&(t.value=""),e&&(e.value="")}(),oe.goToChatPage(),ne()}))}}new oe})()})();